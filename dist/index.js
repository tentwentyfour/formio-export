var ht=Object.create;var H=Object.defineProperty;var xt=Object.getOwnPropertyDescriptor;var _t=Object.getOwnPropertyNames;var gt=Object.getPrototypeOf,yt=Object.prototype.hasOwnProperty;var Et=(o,e)=>{for(var t in e)H(o,t,{get:e[t],enumerable:!0})},Ge=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _t(e))!yt.call(o,i)&&i!==t&&H(o,i,{get:()=>e[i],enumerable:!(r=xt(e,i))||r.enumerable});return o};var p=(o,e,t)=>(t=o!=null?ht(gt(o)):{},Ge(e||!o||!o.__esModule?H(t,"default",{value:o,enumerable:!0}):t,o)),vt=o=>Ge(H({},"__esModule",{value:!0}),o);var wt={};Et(wt,{FormioExport:()=>qe,default:()=>bt});module.exports=vt(wt);var Be=p(require("lodash"));var n=p(require("lodash")),E={verifyProperties(o,e){return e=n.default.isPlainObject(e)?e:{},o=n.default.isPlainObject(o)?o:{},n.default.forEach(e,(t,r)=>{if(t.hasOwnProperty("default")&&!o.hasOwnProperty(r)&&(o[r]=t.default),t.required&&n.default.isNil(o[r]))throw new Error(`[FormioExportUtils] invalid property (${r} is required)`);if(t.hasOwnProperty("type")&&o.hasOwnProperty(r)&&!!!n.default.find(n.default.isArray(t.type)?t.type:[t.type],l=>E.isOfType(o[r],l)))throw new Error(`[FormioExportUtils] invalid property (${r} type is invalid)`)}),o},isOfType(o,e){switch(e){case null:return n.default.isNull(o);case void 0:return n.default.isUndefined(o);case String:return n.default.isString(o);case Number:return n.default.isNumber(o);case Boolean:return n.default.isBoolean(o);case Array:return n.default.isArray(o);case Object:return n.default.isPlainObject(o);case Element:return n.default.isElement(o)||n.default.isObject(o)&&o.nodeType>0;case Function:return n.default.isFunction(o);case Date:return n.default.isDate(o);case RegExp:return n.default.isRegExp(o);case Error:return n.default.isError(o);case Symbol:return n.default.isSymbol(o);default:return console.warn("[FormioExportUtils] type not implemented"),!1}},isFormioForm(o={}){return n.default.isPlainObject(o)&&n.default.isArray(o.components)&&o.display==="form"},isFormioWizard(o={}){return n.default.isPlainObject(o)&&n.default.isArray(o.components)&&o.display==="wizard"},isFormioSubmission(o={}){return n.default.isPlainObject(o)&&n.default.isPlainObject(o.data)&&o.hasOwnProperty("_id")},getValue(o,e){let t=r=>{if(n.default.isPlainObject(r)){if(n.default.has(r,e))return r[e];let i=null;return n.default.forOwn(r,l=>{let m=t(l);return n.default.isNil(m)?!0:(i=m,!1)}),i}return null};return E.isFormioSubmission(o)?t(o.data):t(o)},interpolate(o,e){let t={evaluate:/\{%(.+?)%\}/g,interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{\{(.+?)\}\}\}/g};try{return n.default.template(o,t)(e)}catch(r){return console.warn("Error interpolating template",r,o,e),null}},eachComponent(o,e,t,r,i){o&&(r=r||"",o.forEach(l=>{let m=l.columns&&Array.isArray(l.columns),d=l.rows&&Array.isArray(l.rows),h=l.components&&Array.isArray(l.components),x=!1,f=l.key?r?`${r}.${l.key}`:l.key:"";i&&(l.parent=n.default.clone(i),delete l.parent.components,delete l.parent.componentMap,delete l.parent.columns,delete l.parent.rows),(t||l.tree||!m&&!d&&!h)&&(x=e(l,f));let A=()=>l.key&&(["datagrid","container","editgrid"].includes(l.type)||l.tree)?f:l.key&&l.type==="form"?`${f}.data`:r;x||(m?l.columns.forEach($=>E.eachComponent($.components,e,t,A(),i?l:null)):d?l.rows.forEach($=>$.forEach(ut=>E.eachComponent(ut.components,e,t,A(),i?l:null))):h&&E.eachComponent(l.components,e,t,A(),i?l:null))}))},createElement(o,...e){let t=document.createElement(o),r={};return e[0]&&typeof e[0]=="object"&&(r=e[0],e=e.slice(1)),r.style&&typeof r.style=="object"&&(r.style=n.default.map(r.style,(i,l)=>`${l}:${i}`).join(";")),r.hasOwnProperty("innerHTML")?(t.innerHTML=r.innerHTML,delete r.innerHTML):n.default.forEach(e,i=>{n.default.isString(i)?t.appendChild(document.createTextNode(i)):(n.default.isElement(i)||n.default.isObject(i)&&i.nodeType>0)&&t.appendChild(i)}),n.default.forEach(r,(i,l)=>{t.setAttribute(l,i)}),t}},s=E;var q=p(require("lodash"));var u=p(require("lodash"));var ke=p(require("lodash"));var T=(o,e)=>{if(e&&e.input){let t=s.createElement("div",{class:`formio-component ${e.type}-component`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"col component-label"},e.label),i=s.createElement("div",{class:"col component-value"},e.formatValue());return!e.hideLabel&&(!e.inDataGrid||e.dataGridLabel)&&(r.className+=e._options.equalCols?"":" col-sm-3",i.className+=e._options.equalCols?"":" col-sm-9",t.appendChild(r)),t.appendChild(i),ke.default.isElement(o)&&o.appendChild(t),t}return null};var B=o=>{let e={width:o._baseWidth,height:o._baseHeight};if(o.label)switch(o.labelPosition){case"top":case"bottom":e.height++;break;default:e.width++}return e};var M=class o{constructor(e,t,r={}){if(!(this instanceof o))return new o(e,t);if(this.type="",this._options=u.default.cloneDeep(r),this._value=null,this._dims={},this._baseWidth=1,this._baseHeight=1,u.default.isObject(e)&&e.hasOwnProperty("type")){let i=u.default.cloneDeep(e);for(let l in i)this[l]=i[l]}if(t===null)return this;u.default.isPlainObject(t)?(this._value=s.getValue({data:t},this.key),u.default.isNil(this._value)&&!this.input&&(this._value=u.default.cloneDeep(t))):this._value=t}getLabel(){return this.legend||this.title||this.label||this.key}emptyValue(){return u.default.isNil(this._options.emptyValue)?"":this._options.emptyValue}toHtml(e){return T(e,this)}getDimensions(){return this._dims=B(this),this._dims}hasComponents(){let e=this.columns&&Array.isArray(this.columns),t=this.rows&&Array.isArray(this.rows),r=this.components&&Array.isArray(this.components);return e||t||r}updateDimensions(){this._width=1,this._height=1}createComponent(e,t,r){return P.create(e,t,r)}formatValue(){return u.default.isNil(this._value)?this.emptyValue():this._value.toString()}isLayoutComponent(){return!1}},a=M;var G=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){return q.default.isEmpty(this._value)?this.emptyValue():q.default.isString(this._value)?this._value:this._value.toString()}},c=G;var k=class extends c{constructor(e,t,r){super(e,t,r)}},We=k;var W=class extends c{constructor(e,t,r){super(e,t,r)}},Re=W;var R=class extends c{constructor(e,t,r){super(e,t,r)}},ze=R;var z=class extends c{constructor(e,t,r){super(e,t,r)}},Xe=z;var je=p(require("lodash"));var X=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){return je.default.isNil(this._value)?this.emptyValue():this._value.toLocaleString()}},O=X;var j=class extends O{constructor(e,t){super(e,t)}},Ie=j;var I=p(require("lodash"));var Y=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){return I.default.isNil(this._value)?this.emptyValue():I.default.isString(this._value)?this._value.replace("T"," ").split(".")[0]+" UTC":this._value}},Ye=Y;var K=p(require("lodash"));var J=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){if(K.default.isNil(this._value))return this.emptyValue();if(K.default.isString(this._value)){let e=this._value.split("/");return this.dayFirst?[e[2],e[1],e[0]].join("-"):[e[2],e[0],e[1]].join("-")}return this._value}},Ke=J;var Q=class extends c{constructor(e,t,r){super(e,t,r)}},Je=Q;var Z=p(require("lodash"));var ee=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){return Z.default.isNil(this._value)?this.emptyValue():Z.default.isObject(this._value)?this._value.formatted_address:this._value}},Qe=ee;var te=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){return this._value?"Yes":"No"}},Ze=te;var re=p(require("lodash"));var oe=class extends a{constructor(e,t,r){super(e,t,r)}formatValue(){if(re.default.isNil(this._value))return this.emptyValue();let e=re.default.find(this.values,t=>t.value===this._value);return e?e.label:this._value}},et=oe;var w=p(require("lodash"));var ie=p(require("lodash"));var se=(o,e)=>{if(e&&e.input){let t=s.createElement("div",{class:`formio-component ${e.type}-component`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"col component-label"},e.label),i=s.createElement("div",{class:"col component-value"});return ie.default.forEach(e.formatValues(),l=>{let m=s.createElement("p",{class:"component-item"});m.innerHTML=l,i.appendChild(m)}),!e.hideLabel&&(!e.inDataGrid||e.dataGridLabel)&&(r.className+=" col-sm-3",i.className+=" col-sm-9",t.appendChild(r)),t.appendChild(i),ie.default.isElement(o)&&o.appendChild(t),t}return null};var le=class extends a{constructor(e,t,r){super(e,t,r)}toHtml(e){return se(e,this)}formatValue(e){if(w.default.isNil(e))return a.emptyValue;let t=w.default.find(this.values,r=>r.value===e);return t?t.label:e}formatValues(){if(w.default.isNil(this._value))return[];let e=[];return w.default.forEach(this._value,(t,r)=>{t&&e.push(this.formatValue(r))}),e}},tt=le;var _=p(require("lodash"));var ne=p(require("lodash"));var ae=(o,e)=>{if(e&&e.input){let t=s.createElement("div",{class:`formio-component ${e.type}-component`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"col component-label"},e.label),i=s.createElement("div",{class:"col component-value"}),l=e.formatValues();return ne.default.forEach(l,m=>{let d=s.createElement("div",{class:"component-item",innerHTML:m});i.appendChild(d)}),!e.hideLabel&&(!e.inDataGrid||e.dataGridLabel)&&(r.className+=" col-sm-3",i.className+=" col-sm-9",t.appendChild(r)),t.appendChild(i),ne.default.isElement(o)&&o.appendChild(t),t}return null};var me=class extends a{constructor(e,t,r){super(e,t,r),this.multiple||(this._value=[this._value])}toHtml(e){return ae(e,this)}formatValues(){if(_.default.isNil(this._value))return this.emptyValue();let e=[];return _.default.forEach(this._value,t=>{e.push(this.formatValue(t))}),e}formatValue(e){if(_.default.isNil(e))return this.emptyValue();switch(this.dataSrc){case"url":return e;case"custom":case"resource":return _.default.isPlainObject(e)?s.interpolate(this.template,{item:e}):e;case"values":case"json":let t=this.valueProperty||"value",r=_.default.find(this.data[this.dataSrc],i=>i[t]===e);return _.default.isPlainObject(r)?s.interpolate(this.template,{item:r}):e;default:return e}}},F=me;var C=p(require("lodash"));var pe=class extends F{constructor(e,t,r){super(e,t,r)}formatValues(){if(C.default.isNil(this._value))return this.emptyValue();let e=[];return C.default.forEach(this._value,t=>{e.push(this.formatValue(t))}),e}formatValue(e){return C.default.isNil(e)?this.emptyValue():C.default.isPlainObject(e)?s.interpolate(this.template,{item:e}):e}},rt=pe;var g=p(require("lodash"));var de=p(require("lodash"));var ce=(o,e)=>{if(e&&e.input){let t=s.createElement("div",{class:`formio-component ${e.type}-component card`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"component-label card-header"},e.label),i=s.createElement("div",{class:"component-value card-body"}),l=e.formatValues();return de.default.forEach(l,m=>{let d=s.createElement("div",{class:"row survey-question"},s.createElement("div",{class:"col-sm-9 text-bold"},m.question),s.createElement("div",{class:"col-sm-3"},m.option));i.appendChild(d)}),!e.hideLabel&&(!e.inDataGrid||e.dataGridLabel)&&t.appendChild(r),t.appendChild(i),de.default.isElement(o)&&o.appendChild(t),t}return null};var fe=class extends a{constructor(e,t,r){super(e,t,r)}toHtml(e){return ce(e,this)}formatValue(e,t){if(g.default.isNil(e)||g.default.isNil(t))return this.emptyValue();let r={};return g.default.forEach(this.questions,i=>{i.value===t&&(r.question=i.label)}),g.default.forEach(this.values,i=>{i.value===e&&(r.option=i.label)}),r}formatValues(){if(g.default.isNil(this._value))return this.emptyValue();let e=[];return g.default.forEach(this._value,(t,r)=>{e.push(this.formatValue(t,r))}),e}},ot=fe;var V=p(require("lodash"));var ue=(o,e)=>{if(e&&e.input){let t=s.createElement("div",{class:`formio-component ${e.type}-component`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"col col-sm-3 component-label"},e.label),i=s.createElement("div",{class:"col col-sm-9 component-value"});return V.default.forEach(e._value,l=>{V.default.isObject(l)&&(l.type.indexOf("image/")===0?i.appendChild(s.createElement("img",{src:l.url,class:"img-responsive"})):i.innerHTML=`${l.name} (${l.size/1024} KB)`)}),t.appendChild(r),t.appendChild(i),V.default.isElement(o)&&o.appendChild(t),t}return null};var he=class extends a{constructor(e,t,r){super(e,t,r)}toHtml(e){return ue(e,this)}},N=he;var xe=class extends N{constructor(e,t,r){super(e,t,r),this._value&&(this._value=[{storage:"base64",type:"image/png",url:this._value}])}},it=xe;var ye=p(require("lodash"));var _e=p(require("lodash"));var ge=(o,e)=>{if(e&&e.components){let t=s.createElement("div",{class:`formio-component ${e.type}-component card`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"component-label card-header"},e.getLabel()),i=s.createElement("div",{class:"component-value card-body"});return(!e.inDataGrid||e.dataGridLabel)&&t.appendChild(r),_e.default.forEach(e.components,l=>{l&&(e.inDataGrid&&(l._options.equalCols=!0),l.toHtml(i))}),t.appendChild(i),_e.default.isElement(o)&&o.appendChild(t),t}return null};var Ee=class extends a{constructor(e,t,r){if(super(e,t,r),this.components&&ye.default.isArray(this.components)){let i=[];ye.default.forEach(this.components,l=>{i.push(this.createComponent(l,t,r))}),this.components=i}}toHtml(e){return ge(e,this)}},v=Ee;var S=p(require("lodash"));var y=p(require("lodash"));var ve=(o,e)=>{if(e&&e.components){let t=s.createElement("div",{class:`formio-component grid-component ${e.type}-component card`,id:Math.random().toString(36).substring(7)}),r=s.createElement("div",{class:"component-label card-header"},e.getLabel()),i=s.createElement("div",{class:"component-value card-body"});if(e.numRows<e.numCols)i.className+=" grid-transpose",y.default.forEach(e.components,(m,d)=>{let h=s.createElement("div",{class:"row grid-row"},s.createElement("div",{class:"col col-sm-3 grid-cell text-bold"},m.legend||m.title||m.label));y.default.forEach(e.rows,x=>{let f=s.createElement("div",{class:"col grid-cell"});x[d].toHtml(f),h.appendChild(f)}),i.appendChild(h)});else{let m=s.createElement("div",{class:"row grid-row grid-header"});y.default.forEach(e.rows[0],d=>{d&&m.appendChild(s.createElement("div",{class:"col grid-cell"},d.getLabel()))}),i.appendChild(m),y.default.forEach(e.rows,d=>{let h=s.createElement("div",{class:"row grid-row"});y.default.forEach(d,x=>{if(x){let f=s.createElement("div",{class:"col grid-cell"});x.toHtml(f),h.appendChild(f)}}),i.appendChild(h)})}return!e.hideLabel&&(!e.inDataGrid||e.dataGridLabel)&&t.appendChild(r),t.appendChild(i),y.default.isElement(o)&&o.appendChild(t),t}return null};var st=p(require("lodash")),be=o=>{let e={width:o._baseWidth,height:o._baseHeight},t=0;return st.default.forEach(o.components,r=>{if(r){let i=r.getDimensions();e.width+=i.width}}),e.width+=t,e};var we=class extends a{constructor(e,t,r){super(e,t,r),this.numCols=Array.isArray(this.components)?this.components.length:0,this.numRows=Array.isArray(this._value)?this._value.length:0,this.rows=[],S.default.isArray(this._value)&&S.default.forEach(this._value,i=>{let l=[];S.default.forEach(this.components,m=>{l.push(this.createComponent(m,i[m.key],r))}),this.rows.push(l)})}getDimensions(){return be(this)}toHtml(e){return ve(e,this)}},lt=we;var Ce=class extends a{constructor(e,t,r){super(e,t,r),console.log(this)}},nt=Ce;var He=p(require("lodash"));var Pe=(o,e)=>{if(e&&e.components){let t=s.createElement("div",{class:`formio-component ${e.type}-component`,id:Math.random().toString(36).substring(7)});if(t.appendChild(s.createElement("h1",{class:"form-title"},e.title)),e._options.submission&&(e._options.submission.hasOwnProperty("owner")&&t.appendChild(s.createElement("div",{class:"row"},s.createElement("div",{class:"col text-right text-bold"},"submission owner:"),s.createElement("div",{class:"col text-left"},e._options.submission.owner))),e._options.submission.hasOwnProperty("id")&&t.appendChild(s.createElement("div",{class:"row"},s.createElement("div",{class:"col text-right text-bold"},"submission id:"),s.createElement("div",{class:"col text-left"},e._options.submission.id))),e._options.submission.hasOwnProperty("modified"))){let r=e._options.submission.modified.replace("T"," ").split(".")[0]+" UTC";t.appendChild(s.createElement("div",{class:"row"},s.createElement("div",{class:"col text-right text-bold"},"modified:"),s.createElement("div",{class:"col text-left"},r)))}return t.appendChild(s.createElement("br")),He.default.forEach(e.components,r=>{r&&r.toHtml(t)}),He.default.isElement(o)&&o.appendChild(t),t}return null};var at=p(require("lodash")),Oe=o=>{let e={width:o._baseWidth,height:o._baseHeight},t=0;return at.default.forEach(o.components,r=>{if(r){let i=r.getDimensions();t<i.width&&(t=i.width),e.height+=i.height}}),e.width+=t,e};var Fe=class extends v{constructor(e,t,r={}){super(e,t,r)}getDimensions(){return Oe(this)}toHtml(e){return Pe(e,this)}},mt=Fe;var L=p(require("lodash"));var D=p(require("lodash"));var Ve=(o,e)=>{if(e&&e.columns){let t=s.createElement("div",{class:`formio-component ${e.type}-component`,id:Math.random().toString(36).substring(7)});return t.className+=e._options.ignoreLayout?" no-layout":"",D.default.forEach(e.columns,r=>{let i=`col col-sm-${r.width}`;r.offset&&(i+=` col-sm-offset-${r.offset}`),r.push&&(i+=` col-sm-push-${r.push}`),r.pull&&(i+=` col-sm-pull-${r.pull}`);let l=s.createElement("div",{class:i});D.default.forEach(r.components,m=>{m.toHtml(e._ignoreLayout?t:l)}),e._ignoreLayout||t.appendChild(l)}),D.default.isElement(o)&&o.appendChild(t),t}return null};var Ne=o=>{let e={width:o._baseWidth,height:o._baseHeight};for(let t=0;t<o.columns.length;t++){let r=o.columns[t].components,i=0,l=0;for(let m=0;m<r.length;m++){let d=r[m].getDimensions();i+=d.width||0,l+=d.height||0}e.width+=i,e.height+=l}return e};var Se=class extends a{constructor(e,t,r){super(e,t,r),this.columns&&L.default.isArray(this.columns)&&L.default.forEach(this.columns,i=>{let l=[];L.default.forEach(i.components,m=>{l.push(this.createComponent(m,t))}),i.components=l})}getDimensions(){return this._dims=Ne(this),this._dims}toHtml(e){return Ve(e,this)}},pt=Se;var De=class extends v{constructor(e,t,r){super(e,t,r)}},U=De;var Le=class extends U{constructor(e,t,r){super(e,t,r)}},dt=Le;var b=class extends a{constructor(e,t,r){super(e,t,r)}toHtml(e){return null}};var Ue={textfield:c,textarea:We,email:Re,password:ze,phoneNumber:Xe,number:O,currency:Ie,datetime:Ye,day:Ke,time:Je,address:Qe,checkbox:Ze,radio:et,selectboxes:tt,select:F,resource:rt,survey:ot,file:N,signature:it,container:v,datagrid:lt,editgrid:nt,columns:pt,panel:U,fieldset:dt,unknown:b,form:mt,create:(o,e,t)=>{let r=null;if(o)Ue.hasOwnProperty(o.type)?r=new Ue[o.type](o,e,t):r=new b(o,e,t);else return null;return r}},P=Ue;var ct=s.createElement("style",{type:"text/css"},'.card,.col{position:relative}.card,body{background-color:#fff}body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:.9rem;font-weight:400;line-height:1.5;color:#212529;text-align:left}.card-header,#formio__export .formio-component.grid-component>.component-value .grid-header,.text-bold{font-weight:700}.card-header,.text-center{text-align:center}*,::after,::before{box-sizing:border-box}.row{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-8px;margin-left:-8px}.col{-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;max-width:100%;width:100%;min-height:1px;padding-right:15px;padding-left:15px}.card{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-clip:border-box;border:none;border-radius:0}.card-header{padding:.75rem 1.25rem;margin-bottom:0;background-color:rgba(0,0,0,.03);border-bottom:1px solid rgba(0,0,0,.125)}.card-body{-ms-flex:1 1 auto;flex:1 1 auto}@media (min-width:576px){.col-sm-3{-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.col-sm-9{-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}}.text-right{text-align:right}.text-left{text-align:left}.form-title,#formio__export .formio-component.signature-component>.component-value{text-align:center}#formio__export{border:1px solid #ddd;font-family:Lato;max-width:790px}#formio__export .formio-component:not(.no-layout){border-top:1px solid #ddd;min-height:32px;display:flex;flex-direction:row}#formio__export>.formio-component:first-child{border-top:none}#formio__export .formio-component.no-layout{flex-direction:column}#formio__export .formio-component.no-layout>.col{padding:0;border-top:1px solid #ddd}#formio__export .formio-component.columns-component>.col>.formio-component,#formio__export .formio-component>.component-value.card-body.grid-transpose>.grid-row:first-child{border-top:none}#formio__export .formio-component:not(.card)>.component-label{border-right:1px solid #ddd;font-weight:700;padding:8px}#formio__export .formio-component.card>.component-label{border-right:none}#formio__export .formio-component>.component-value{padding:8px}#formio__export .formio-component>.component-value>.component-item{display:block}#formio__export .formio-component>.component-value>img{max-width:250px}#formio__export .formio-component:not(.survey-component):not(.grid-component)>.component-value.card-body{padding:0}#formio__export .formio-component>.component-value.card-body.grid-transpose{padding:0 8px}.form-title{text-transform:uppercase}#formio__export .formio-component.form-component{flex-direction:column}#formio__export .formio-component.currency-component>.component-value::before{content:"$"}#formio__export .formio-component.columns-component.no-layout{flex:columns}#formio__export .formio-component.columns-component>.col:not(:last-child)>.formio-component{border-right:1px solid #ddd}#formio__export .formio-component.grid-component>.component-value{padding:8px}#formio__export .formio-component.grid-component>.component-value .grid-row:not(.grid-header){border-top:1px solid #ddd}#formio__export .formio-component.card>.card-body>.formio-component:first-child,#formio__export .formio-component.container-component>.component-value>.formio-component:first-child,#formio__export .formio-component.grid-component>.component-value .grid-row>.grid-cell>.formio-component{border-top:none}#formio__export .formio-component.grid-component>.component-value .grid-row>.grid-cell{padding:0}#formio__export .formio-component.grid-component>.component-value .grid-header>.grid-cell{padding:8px}#formio__export .formio-component.grid-component>.component-value.grid-transpose>.row>.col:first-child{padding:8px;border-right:1px solid #ddd}#formio__export .formio-component.container-component>.component-value{padding:0}#formio__export .formio-component.card,#formio__export .formio-component.grid-component{flex-direction:column}#formio__export .formio-component.grid-component>.card-body,#formio__export .formio-component.survey-component .component-value>.survey-question>*{padding:8px}');var Ae=o=>new Promise((e,t)=>{try{let r=s.createElement("div",{id:"formio__export"},ct);o.toHtml(r),e(r)}catch(r){console.error(r),t(r)}});var ft=p(require("html2pdf.js"));var $e=(o={})=>new Promise((e,t)=>{try{o=s.verifyProperties(o,{source:{type:Element,required:!0},download:{type:Boolean,default:!1}}),(0,ft.default)().set({html2canvas:o.html2canvas}).from(o.source).save(o.filename).then(e,t)}catch(r){console.error(r),t(r)}});var Te=(o={})=>new Promise((e,t)=>{try{throw new Error("[FormioExport] method not implemented")}catch(r){console.error(r),t(r)}});var Me=class o{constructor(e,t,r={}){if(!(this instanceof o))return new o(e,t);this.component=null,this.data={},this.options={},r.hasOwnProperty("formio")&&(this.options=Be.default.cloneDeep(r.formio)),r.hasOwnProperty("component")?this.component=r.component:e&&(this.component=e),r.hasOwnProperty("data")?this.data=r.data:Be.default.isNil(t)||(this.data=t),s.isFormioSubmission(this.data)&&(this.options.submission={id:this.data._id,owner:this.data.owner,modified:this.data.modified},this.data=this.data.data),this.component?((s.isFormioForm(this.component)||s.isFormioWizard(this.component))&&(this.component.type="form",this.component.display="form"),this.component=P.create(e||this.component,this.data,this.options)):this.component||console.warn(this.constructor.name,"no component defined")}toHtml(){return new Promise((e,t)=>{try{Ae(this.component).then(r=>e(r))}catch(r){t(r)}})}toPdf(e={}){return new Promise((t,r)=>{try{this.toHtml().then(i=>{$e(Object.assign(e,{source:i,html2canvas:{scrollX:0,scrollY:0}})).then(l=>t(l))})}catch(i){r(i)}})}toXlsx(e={}){return new Promise((t,r)=>{try{Te(e).then(i=>t(i))}catch(i){r(i)}})}static toHtml(e){return new Promise((t,r)=>{try{e=s.verifyProperties(e,{component:{type:Object,required:!0},formio:{type:Object}}),new o(e.component,e.data,e.formio).toHtml().then(i=>{t(i)})}catch(i){console.error(i),r(i)}})}static toPdf(e){return new Promise((t,r)=>{try{e=s.verifyProperties(e,{component:{type:Object,required:!0},formio:{type:Object},config:{type:Object,default:{filename:`export-${Math.random().toString(36).substring(7)}.pdf`}}}),new o(e.component,e.data,e.formio).toPdf(e.config).then(i=>{t(i)})}catch(i){console.error(i),r(i)}})}static toXlsx(e){return new Promise((t,r)=>{try{e=s.verifyProperties(e,{component:{type:Object,required:!0},formio:{type:Object},config:{type:Object}}),new o(e.component,e.data,e.formio).toXlsx(e.config).then(i=>{t(i)})}catch(i){console.error(i),r(i)}})}},qe=Me;var bt=qe;0&&(module.exports={FormioExport});
